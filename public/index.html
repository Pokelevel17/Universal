<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unblocked Games</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Unblocked Games</h1>
<input type="text" id="search" placeholder="Search games...">
<div id="games-grid"></div>

<script>
async function fetchGames() {
    const res = await fetch('/api/games');
    const games = await res.json();
    const grid = document.getElementById('games-grid');
    const search = document.getElementById('search');

    function render(list) {
        grid.innerHTML = '';
        list.forEach(game => {
            const card = document.createElement('div');
            card.className = 'game-card';
            card.innerHTML = `
                <a href="play.html?url=${encodeURIComponent(game.url)}">
                    <img src="${game.thumbnail}" alt="${game.name}">
                    <p>${game.name}</p>
                </a>`;
            grid.appendChild(card);
        });
    }

    render(games);

    search.addEventListener('input', () => {
        const filtered = games.filter(g => g.name.toLowerCase().includes(search.value.toLowerCase()));
        render(filtered);
    });
}

fetchGames();
</script>
</body>
</html>
